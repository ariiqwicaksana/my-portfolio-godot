[gd_scene load_steps=11 format=3 uid="uid://crdh5yf1f30ii"]

[ext_resource type="Script" path="res://car physics/camera.gd" id="1_33t5q"]
[ext_resource type="Script" path="res://car physics/vehicle_controllergd.gd" id="1_pe40b"]
[ext_resource type="PackedScene" uid="uid://ct5k8oq0r58l3" path="res://car physics/car.tscn" id="2_hywrh"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_xqh0g"]

[sub_resource type="Sky" id="Sky_rg0cp"]
sky_material = SubResource("PhysicalSkyMaterial_xqh0g")

[sub_resource type="Environment" id="Environment_bw22h"]
background_mode = 2
sky = SubResource("Sky_rg0cp")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xpmw8"]
albedo_color = Color(0, 0.501961, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_15rqv"]
material = SubResource("StandardMaterial3D_xpmw8")

[sub_resource type="BoxShape3D" id="BoxShape3D_qbhoa"]
size = Vector3(2330.35, 1.01819, 999.978)

[sub_resource type="Curve3D" id="Curve3D_8bs8y"]
_data = {
"points": PackedVector3Array(-7.9796, 0, 14.5294, 7.9796, 0, -14.5294, -0.222455, 0, -16.2673, -6.63776, 0, 1.60222, 6.63776, 0, -1.60222, 17.1416, 0.391359, -33.7722, -3.8911, 0, -5.9511, 3.8911, 0, 5.9511, 41.4037, 0, -23.7012, -1.37332, 0, -8.92664, 1.37332, 0, 8.92664, 67.5854, 0.599299, -13.3653, 2.51777, 0, 0.228889, -2.51777, 0, -0.228889, 61.5459, 0, -0.583446, -8.46887, 0, -7.32443, 8.46887, 0, 7.32443, 59.7285, 0.0652809, 24.5645, 5.95111, 0, 6.63776, -5.95111, 0, -6.63776, 41.6322, 0.0662183, 31.0039, 14.6488, 0, 7.32443, -14.6488, 0, -7.32443, 16.6094, 0.608863, 37.6585, 11.9022, 0, -2.97555, -11.9022, 0, 2.97555, -13.3006, 0, 36.7253, 1.37333, 0, 2.51777, -1.37333, 0, -2.51777, -33.4389, 0.168946, 30.3164, 8.23998, 0, 3.43332, -8.23998, 0, -3.43332, -42.381, 0.112373, 22.0782, -0.228886, 0, 3.20444, 0.228886, 0, -3.20444, -54.9582, 0, -2.41455, -2.74666, 0, 3.20444, 2.74666, 0, -3.20444, -47.6338, 0, -22.7856, -3.20444, 0, 1.14444, 3.20444, 0, -1.14444, -32.0421, 0.201509, -33.2969, -1.37333, 0, 2.74666, 1.37333, 0, -2.74666, -22.7594, 0.776377, -43.6295, -4.11999, 0, -1.14444, 4.11999, 0, 1.14444, -14.445, 0, -47.2767, -0.228882, 0, -5.72221, 0.228882, 0, 5.72221, -8.9517, 0, -41.7833, 1.83111, 0, -5.03554, -1.83111, 0, 5.03554, -15.8183, 0, -30.5678, -3.43333, 0, -4.80665, 3.43333, 0, 4.80665, -15.8183, 0, -20.0389, -5.98258, 0, 3.78165, 5.98258, 0, -3.78165, -0.222455, 0, -16.2673),
"tilts": PackedFloat32Array(0, 0.459838, -0.00801856, 0.670544, -0.0127009, 0.15186, 0.152979, 0.784636, 0.0738283, 0.340225, -0.196503, 0, 0.122441, 0, 0, 0, 0.202829, 0, 0.208037, 0)
}
point_count = 20

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bw22h")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.836626, 0.039897, -0.546319, -0.545129, 0.0372515, 0.837524, 0.0537659, 0.998509, -0.00941656, -2.41562, 2.10326, -1.05353)
shadow_enabled = true

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
transform = Transform3D(1000, 0, 0, 0, 1, 0, 0, 0, 1000, 0, -0.520612, 0)
mesh = SubResource("BoxMesh_15rqv")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 665.192, -0.505659, 0.000442505)
shape = SubResource("BoxShape3D_qbhoa")

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("follow_this")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.79325, 8.90764)
script = ExtResource("1_33t5q")
follow_this = NodePath("../VehicleController/car")

[node name="VehicleController" type="Node3D" parent="." node_paths=PackedStringArray("vehicle_node")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0451645, 0)
script = ExtResource("1_pe40b")
vehicle_node = NodePath("car")

[node name="car" parent="VehicleController" instance=ExtResource("2_hywrh")]

[node name="Path3D" type="Path3D" parent="."]
curve = SubResource("Curve3D_8bs8y")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Path3D"]
transform = Transform3D(6, 0, 0, 0, 1, 0, 0, 0, 6, 0, 0, 0)
use_collision = true
polygon = PackedVector2Array(-1.01127, -0.00196888, -1.01178, 0.0509701, 1.00236, 0.0532307, 1, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = true
smooth_faces = true
